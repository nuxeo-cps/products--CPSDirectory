<tal:block define="mode options/mode;
                   values options/values;
                   html_id here/getHtmlWidgetId;">
<tal:block condition="python: mode == 'view'" tal:content="options/render" />
<tal:block condition="python: mode == 'edit'"
  tal:define="display_attr options/display_attr;
              ids_and_titles options/ids_and_titles;
              directory here/directory;
              vocabulary here/vocabulary;
 ">
<tal:block repeat="it ids_and_titles">
  <div tal:define="value python:it[0];
                   title python:it[1];">
    <input type="checkbox" checked="checked" class="noborder"
      tal:attributes="name html_id;value value;">
    <tal:block replace="title" />
  </div>
</tal:block>
<div tal:attributes="id html_id"></div>

<script type="text/javascript">
  <!--
     function popup_directorymultientries(destId, dirName, dispAttr, vocabulary, title) {
       var args
       args='?input_id='+destId+'&root_uid='+dirName+'&title='+escape(title)+'&display_attr='+dispAttr+'&vocabulary='+vocabulary;
       popup = window.open('popup_directorymultientries_form'+args, 'Multi DN Finder', 'toolbar=0, scrollbars=1, location=0, statusbar=0, menubar=0, resizable=1, dependent=1, width=712, height=480')
       if(!popup.opener)
         popup.opener = window;
       return false;
   }
  //-->
</script>
<button type="button"
  tal:attributes="onclick string:popup_directorymultientries('${html_id}', '${directory}', '${display_attr}', '${vocabulary}', 'DN Navigation');">...</button><br>
</tal:block>
</tal:block>

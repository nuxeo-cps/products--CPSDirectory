<tal:block define="results options/results;
                   portal_url here/portal_url;
                   dirname here/getId;
                   title_field here/title_field;
                   fields python:here.getDirectoryResultFields(dirname);
                   ">
<div style="padding-left: 1.5em">
<table tal:condition="results">
<tr>
  <tal:block repeat="field fields">
    <th i18n:translate="" tal:content="field/title">id</th>
  </tal:block>
</tr>
<tal:block repeat="result results">
  <tal:block define="id python:result[0];
                     data python:result[1];
                     even repeat/result/even;
                     ">
  <tr tal:attributes="class python:test(even, 'even', 'odd')">
    <tal:block repeat="field fields">
    <td>
      <a href="."
        tal:attributes="href string:${portal_url}/cpsdirectory_entry_view?dirname=${dirname}&id=${id}"
        ><b tal:content="python:data.get(field['id'])">john</b></a>
    </td>
    </tal:block>
  </tr>
  </tal:block>
</tal:block>
</table>
<div tal:condition="not:results">
  <span i18n:translate="label_no_results" />
</div>
<br><br><input type="button" class="context" value="button_back"
    onclick="javascript:history.back()" i18n:attributes="value">
</div>
</tal:block>
